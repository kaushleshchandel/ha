#Turn OFF Garage Lights
- id: '1578160744520'
  alias: 'LIGHT: Auto turn off Garage lights'
  description: Auto off in Set minutes
  trigger:
  - entity_id: light.garage_light
    for: '00:{{ states("input_number.garage_timer_slider") | int }} :00'
    from: 'off'
    platform: state
    to: 'on'
  - entity_id: binary_sensor.garage_motion
    from: 'Detected'
    platform: state
    to: 'Clear'
  condition: []
  action:
    data:
      entity_id: light.garage_light
    service: light.turn_off

#Turn ON Garage Lights
- id: '874115816452007'
  alias: 'LIGHT: Turn on Garage Lights  Kitchen Door Open'
  description: Turn on Garage Light
  trigger:
  - entity_id: binary_sensor.kitchen_door
    from: 'Off'
    platform: state
    to: 'On'
  - entity_id: binary_sensor.garage_door
    from: 'Closed'
    platform: state
    to: 'Open'
  - entity_id: binary_sensor.garage_occupancy_aqara
    from: 'Clear'
    platform: state
    to: 'Detected'
  - entity_id: binary_sensor.garage_motion_aqara
    from: 'Off'
    platform: state
    to: 'On'
  condition:
    condition: state  # 'day' condition: from sunrise until sunset
    entity_id: sun.sun
    state: 'below_horizon'
  action:
    data:
      entity_id: light.garage_light
    service: light.turn_on

#Turn ON Kitchen Lights
- id: '8741158164515812007'
  alias: 'LIGHT: Turn on Kitchen on Kitchen door Open at night'
  description: Turn on Kitchen Light
  trigger:
  - entity_id: binary_sensor.garage_motion
    from: 'off'
    platform: state
    to: 'on'
  condition:
    condition: state  # 'day' condition: from sunrise until sunset
    entity_id: sun.sun
    state: 'below_horizon'
  action:
    data:
      entity_id: light.kitchen_sink_light
    service: light.turn_on


- id: aa5c03aa8c789a1cbe5806e274bc3989
  alias: 'SYSTEM: Reset Garage Timer'
  description: Reset Garage Timer at 6:00
  trigger:
  - at: 06:00:00
    platform: time
  condition: []
  action:
    service: input_number.set_value
    data_template:
      entity_id: input_number.garage_timer_slider
      value: 5
